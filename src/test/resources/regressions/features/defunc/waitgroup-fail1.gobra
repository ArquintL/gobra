// Any copyright is dedicated to the Public Domain.
// http://creativecommons.org/publicdomain/zero/1.0/

package pkg

import "sync"

/* The following fails to verify because sync.CollectFractions(seq[pred()]{ sync.pred_true!<!>}, seq[int]{1}, seq[int]{2}) does not imply 
 * sync.CollectFractions(seq[pred()]{ sync.pred_true!<!>}, seq[int]{2}, seq[int]{4}) even though they are equivalent.
 */
func problemWithCollect() {
	fold acc(sync.pred_true!<!>(), 1/2)
	fold sync.CollectFractions(seq[pred()]{ sync.pred_true!<!>}, seq[int]{1}, seq[int]{2})
	assert sync.CollectFractions(seq[pred()]{ sync.pred_true!<!>}, seq[int]{1}, seq[int]{2})
	//:: ExpectedOutput(assert_error:assertion_error)
	assert sync.CollectFractions(seq[pred()]{ sync.pred_true!<!>}, seq[int]{2}, seq[int]{4})
}